<IfModule mod_rewrite.c>
    RewriteEngine On

    # Stop processing if already in the public directory
    RewriteCond %{REQUEST_URI} ^/public/
    RewriteRule ^ - [L]

    # Redirect all other requests to the public directory
    RewriteRule ^(.*)$ public/$1 [L]
</IfModule>

# Optional: Prevent access to dotfiles in the root
<FilesMatch "^\.">
    <IfModule authz_core_module>
        Require all denied
    </IfModule>
    <IfModule !authz_core_module>
        Deny from all
    </IfModule>
</FilesMatch>
